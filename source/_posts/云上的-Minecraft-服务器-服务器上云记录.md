---
title: 云上的 Minecraft 服务器 - 服务器上云记录
date: 2023-12-01 10:24:00
tags: [技术,Minecraft,服务器,游戏]
---
## 前言

春去秋来，自己的 Minecraft 服务器已在不知不觉中运行了近七年。然而，服务器依然是依靠家用计算机，并无法具备全天运行的条件，且由于网络原因，必须依靠第三方应用才能使用，这就导致了不稳定性。而使用云服务器的条件也渐渐成熟，故在今年做出了将服务器迁移到云上的决定。

## 服务商的选择

对于几大云服务商，自己采用了阿里云。阿里云提供三个月的免费试用，且对于学生，阿里云也提供数月的免费云服务器，对于刚刚接触云服务器的自己，这显然是一个较好的选择。

## 操作系统的选择

在本文写作时，阿里云的免费试用已经升级为了 4C4G 的机型，在运行 Windows Server 操作系统的情况下搭建 Minecraft 服务器的性能较为充足（在 1C2G 的情况下依靠虚拟内存依旧可以勉强运行），如果对 Linux 的了解不足，此时 Windows Server 显然是好的选择。然而，在开始上云时，阿里云提供的免费试用依然为 2C2G 机型，为了确保服务器的流畅运行，只能选择 Linux 机型。

出于节省内存和易于维护的综合考量，最终选择了 Alibaba Cloud OS 3.0。

## 操作流程

当云服务器实例创建后，先修改服务器密码，后将本地的服务器目录通过 SFTP 上传至服务端。为了方便管理，新建了新的账号来替代 root 账户运行服务器。

作为 Alibaba Cloud OS，软件仓库内包含 Dragonwell JDK 便相当自然，通过 dnf 命令即可完成 JDK17 的安装。

Fabric 服务端安装器为我们生成了一个 start.sh 文件，为其赋予执行权限即可直接运行。

此外，当服务器成功启动后，需要前往安全组打开 TCP 的 25565 和 UDP 的 19132 端口，以便可以正常从外部连接。在服务器运行的过程中，发现了一些异常的 IP 地址尝试连接，可通过安全组设置拒绝入站。

最后，不要忘记打开系统的虚拟内存功能，否则内存用尽时会直接卡死，只能强制重启。

从此，一个 Minecraft 就成功迁移至云上了。

## 后记

当本文完成时，自己的 Linux 云服务器也已经到期，服务器迁移到了 Windows Server 上。本文是基于本地已有的 Minecraft Server，因而迁移也较为简单，平日内更新服务器 Mods 也只需通过 rm -rf 和 wget 命令进行操作。对于最难的服务器配置阶段，实际上是在 Windows 设备上完成的。将前后两个服务器比较，当资源有限时，Linux 服务器是更优的选择，而服务器迁移回 Windows Server 后，从基岩端连接的体验出现了显著的下降。
